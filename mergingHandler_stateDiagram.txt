@startuml

title MergingHandler State

[*] --> HEADER_SIZE_WAIT

HEADER_SIZE_WAIT --> RESULT_WAIT
HEADER_SIZE_WAIT --> HEADER_ERR

RESULT_WAIT --> RESULT_RECV
RESULT_WAIT --> RESULT_ERR

RESULT_RECV --> RESULT_WAIT
RESULT_RECV --> RESULT_EXTRA
RESULT_RECV --> RESULT_ERR

RESULT_EXTRA --> RESULT_WAIT
RESULT_EXTRA --> HEADER_ERR
RESULT_EXTRA --> RESULT_ERR

@enduml
